<!DOCTYPE html>
<html>
  <head>           <!-- Start of HEAD tag-->
    <!-- Google analytics tag-->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZYT7LTXTWM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-ZYT7LTXTWM');
    </script>  
    
    <!-- Website icon and name-->
    <link rel="shortcut icon" href="../../website_icon.ico" />
    <title>Creating Custom Interfaces for micro-ROS in Arduino IDE | Nilutpol Kashyap | Blogs</title>

    <!-- View port meta tags -->
    <meta content="width=device-width; initial-scale=1.0; maximum-scale=1.0;  user-scalable=0;" name="viewport">

    <!-- CSS tags -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

  </head>          <!-- End of HEAD tag-->

  <!-- Start of body tag -->
  <body class="background">

    <!-- Navigation bar buttons -->
    <nav class="sticky-top navbar navbar-expand-lg navbar-dark" style="background-color: #3414b6;">
      <a class="navbar-brand" href="#">
        <img src="../../images/logo.png" alt="Website logo" width="40"> 
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link border-right" style="font-size: 130%;" href="../../index.html"> Home </a>
          </li>
          <li class="nav-item">
            <a class="nav-link border-right" style="font-size: 130%;" href="https://github.com/nilutpolkashyap?tab=repositories"> Projects</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link border-right" style="font-size: 130%;" href="../../blogs.html"> Blogs</a>
          </li>
          <li class="nav-item">
            <a class="nav-link border-right" style="font-size: 130%;" href="#"> Services </a>
          </li>
          <li class="nav-item">
            <a class="nav-link border-right" style="font-size: 130%;" href="../../about.html"> About</a>
          </li>
        </ul>
      </div>
    </nav>


    <!-- Main Body -->
    <div class="mainbody">
      <br>
      <!-- About me body -->
      <div class="blog_body">
        <div class="blog_title">
          <h2 style="font-size: 7vmin;"><b>Creating Custom Interfaces for micro-ROS in Arduino IDE</b></h2>
        </div>
        <div>
          <p style=" font-size: 17px;">
            A <br>
          </p>

          <ol class="blog-body" style="padding-left: 6vmin;">
            <li>Go to this library folder installation
              cd ~/Arduino/libraries/micro_ros_arduino-2.0.5-humble
              </li><br>

            <li>Go to the extra_packages folder and create there you new msg package:
              pushd extras/library_generation/extra_packages
              </li><br>

            <li>Create a new package for custom interface
              ros2 pkg create --build-type ament_cmake my_custom_message
              cd my_custom_message
              mkdir msg
              touch msg/MyCustomMessage.msg
              </li><br>

            <li>Make changes in CMakeLists.txt
              In the autogenerated CMakeLists.txt file you should add the following lines just before ament_package():
            </li><br>
            
              <div style="display: block; overflow-x: scroll;background-color: rgb(171, 171, 171);padding-left: 3%;">
                ...<br>
                find_package(rosidl_default_generators REQUIRED)<br>
                <br>
                rosidl_generate_interfaces(${PROJECT_NAME} <br>
                  "msg/MyCustomMessage.msg" <br>
                  ) <br>
                â€¦
              </div><br>

            <li>Make changes in package.xml
              In the autogenerated package.xml file you should add the following lines:
              ...
              <build_depend>rosidl_default_generators</build_depend>
              <exec_depend>rosidl_default_runtime</exec_depend>
              <member_of_group>rosidl_interface_packages</member_of_group>
              ...
              </li><br>

            <li>Make library_generation.sh file executable
              cd ~/Arduino/libraries/micro_ros_arduino-2.0.5-humble/extras/library_generation
              chmod +x library_generation.sh
              </li><br>

            <li>Go to the library folder installation
              cd ~/Arduino/libraries/micro_ros_arduino-2.0.5-humble
              </li><br>

            <li>Use the docker to build all the necessary stuff:
              docker pull microros/micro_ros_static_library_builder:humble
              
              docker run -it --rm -v $(pwd):/project --env MICROROS_LIBRARY_FOLDER=extras microros/micro_ros_static_library_builder:humble -p esp32
              </li><br>
          </ol>

      

          <img class="project_image" width="60%" src="image1.png" alt="">

        </div>
        
      </div><br><br>

      <br>
    </div>
    
        
    <!-- Website footer containing developer details -->
    <footer>
      <p align="center" style="color:rgb(0, 0, 0);">Website Developed By : Nilutpol Kashyap <a style="color:rgb(207, 40, 40);" href="https://github.com/nilutpolkashyap">@nilutpolkashyap</a></p>
    </footer> 
          
    <!-- Navigation Bar JS script -->
    <script>
      window.onscroll = function() {myFunction()};

      var main_navbar = document.getElementById("main_navbar");
      var sticky = main_navbar.offsetTop;

      function myFunction() {
        if (window.pageYOffset >= sticky) {
          main_navbar.classList.add("sticky")
        } else {
          main_navbar.classList.remove("sticky");
        }
      }
    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  </body>
</html>

